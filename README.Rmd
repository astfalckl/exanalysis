---
output: github_document
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# Coexchangeable process modelling for uncertainty quantification in joint climate reconstruction

This is the accompanying package to "Coexchangeable process modelling for uncertainty quantification in joint climate reconstruction". This <tt>.rmd</tt> file pre-computes some results; to run the analysis from scratch look in <tt>run_analysis.R</tt>.

# Installation

To execute on your local machine you can install <tt>exanalysis</tt> direct from GitHub:

```{r eval = FALSE}
devtools::install_github("astfalckl/exanalysis")
```

and load:

```{r warning = FALSE, message = FALSE}
library(exanalysis)
```

```{r warning = FALSE, echo = FALSE, message = FALSE}
library(tidyverse)
```

# Data

The package ships with a number of <tt>.rds</tt> files that contain the data used in the paper. Namely,

* <tt>model_data</tt> that contains the PMIP simulation outputs of SST and SIC,
* <tt>sst_data</tt> that contains proxy reconstructions of SST (note the pseudo-observations mentioned in Section 4.2.1 are included here), and
* <tt>sic_data</tt> that contains binary estimates of SIC inferred from Northern and Southern hemisphere maximum sea-ice extents. 

# Sea-surface temperature

To calculate the SST belief updates detailed in Section 4.2.1. we use two functions.
The first, <tt>generate_Hx()</tt>, calculates $H_x$ and the second, <tt>calculate_sst_update()</tt>, calculates the belief updates.

```{r, eval = FALSE}
H_list <- generate_Hx(pmip_sst, margo_pseudo)

params_prior <- tibble(
  tau = 6,
  alpha = 0.921,
  kappa = 1.61,
  beta = 1
)

sst_update <- calculate_sst_update(pmip_sst, margo_pseudo, H_list, params_prior)
```

# Update sea-ice concentration





















